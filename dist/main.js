(()=>{"use strict";const t="191b1f3d3e614e14be2183501232707",e=document.querySelector("#condition"),n=document.querySelector("#location"),o=document.querySelector("#degree"),c=document.querySelector("#feels"),r=document.querySelector("#wind"),s=document.querySelector("#humidity"),i=document.querySelector("#condition-image"),a=document.querySelector(".search-input"),l=document.querySelector(".search-button");async function d(e){console.log("Fetching Weather Data");const n=`https://api.weatherapi.com/v1/current.json?key=${t}&q=${e}`;try{const t=await fetch(n);if(!t.ok)throw new Error("Error code 199");const e=await t.json();if(!e.error)return e;a.textContent="Invalid City"}catch(t){throw console.log("Error:",t.message),t}}async function u(t){try{m(),await new Promise((t=>setTimeout(t,1e3)));const e=await d(t);return g(e),m(),console.log(e),e}catch(t){return console.log("Data not retrieved"),void console.log("Error: ",t)}}function g(t){e.textContent=t.current.condition.text,n.textContent=t.location.name,o.textContent=t.current.temp_f+"°F",c.textContent=t.current.feelslike_f+"°F",r.textContent=t.current.gust_mph+" mph",s.textContent=t.current.humidity+"%","Sunny"===e.textContent?i.src="../assets/sun.png":"Overcast"===e.textContent?i.src="../assets/cloudy.png":"Partly cloudy"===e.textContent?i.src="../assets/partcloudy.png":"Overcast"===e.textContent?i.src="../assets/sun.png":"Light rain"===e.textContent?i.src="../assets/rain.png":"Patchy light rain with thunder"===e.textContent?i.src="../assets/thunder.png":i.src="../assets/sun.png"}function m(){const t=document.querySelector(".loading-screen");if(t)console.log("loading exist changing hidden"),t.toggleAttribute("hidden");else{console.log("loading not exist");const t=document.createElement("div");t.classList.add("loading-screen");const e=document.createElement("div");e.classList.add("circle");const n=document.createElement("p");n.textContent="Loading...",t.appendChild(e),t.appendChild(n),document.querySelector("#content").appendChild(t)}}function h(){a.placeholder="invalid city",a.classList.add("error-animation"),setTimeout((()=>{a.classList.remove("error-animation"),a.placeholder=""}),300)}console.log("Weather Application loaded"),u("london"),l.addEventListener("click",(async function(t){t.preventDefault();const e=a.value.trim();""===e?(h(),console.log("noinput")):(console.log(e),null===d(e)?h():g(u(e)))}))})();